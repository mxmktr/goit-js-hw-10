{"mappings":"AAQO,SAASA,EAAeC,GAC7B,OAAOC,MACL,uCAASD,oDACTE,MAAKC,IACL,IAAKA,EAASC,GACZ,MAAM,IAAIC,MAAM,4CAElB,OAAOF,EAASG,MAAM,G,CCX1B,MAEMC,EAAYC,SAASC,eAAe,cACpCC,EAAcF,SAASG,cAAc,iBACrCC,EAAcJ,SAASG,cAAc,iBAoC3C,SAASE,EAAkBC,GACzB,OAAOA,EAAcC,QACnB,CAACC,EAAMC,IACL,gBAAgBA,EAAQC,MAAMC,UAAUF,EAAQG,KAAKC,kBACrDL,GACF,G,CAvCJT,EAAUe,iBAAiB,SAE3B,SAAiBC,GACf,MAAMvB,EAAkBuB,EAAMC,cAAcC,MAAMC,OAE3B,GAAnB1B,IACFU,EAAYiB,UAAY,GACxBf,EAAYe,UAAY,IAGtB3B,EAAgB4B,OAAS,GAC3B7B,EAAeC,GACZE,MAAKY,IACJ,IAAIe,EAAsBf,EAAcc,OACZ,IAAxBC,GACFnB,EAAYiB,UAAYd,EAAkBC,GAC1CF,EAAYe,UA2BtB,SAA8Bb,GAC5B,MAAMgB,QAAEA,EAAOC,WAAEA,EAAUC,UAAEA,GAAclB,EAAc,GAEzD,OADAmB,QAAQC,IAAIF,GACL,oBAAoBF,yBAA+BC,wBAK5D,SAA8BC,GAC5B,IAAIG,EAAiB,GACrB,IAAK,MAAMC,KAAOJ,EACZK,OAAOC,eAAeC,KAAKP,EAAWI,IACxCD,EAAeK,KAAKR,EAAUI,IAGlC,OAAOD,EAAeM,KAAK,K,CAZgEC,CACzFV,a,CA/B8BW,CAAqB7B,IACpCe,GAAuB,IAChCnB,EAAYiB,UAAYd,EAAkBC,GAC1CF,EAAYe,UAAY,KAExBjB,EAAYiB,UAAY,GACxBf,EAAYe,UAAY,GACxBM,QAAQC,IACN,gE,IAILU,OAAMC,IACLZ,QAAQC,IAAIW,EAAMC,QAAQ,G","sources":["src/js/fetchCountries.js","src/index.js"],"sourcesContent":["const URL = 'https://restcountries.com/v3.1/name/';\n/* params of request */\nconst name = 'name';\nconst capital = 'capital';\nconst population = 'population';\nconst flags = 'flags';\nconst languages = 'languages';\n\nexport function fetchCountries(searchCountries) {\n  return fetch(\n    `${URL}${searchCountries}?fields=${name},${capital},${population},${flags},${languages}`\n  ).then(response => {\n    if (!response.ok) {\n      throw new Error('Oops, there is no country with that name');\n    }\n    return response.json();\n  });\n}\n","import { fetchCountries } from './js/fetchCountries';\n/* import debounce from '../node_modules/lodash.debounce'; */\nimport './css/styles.css';\n\nconst DEBOUNCE_DELAY = 300;\n\nconst searchBox = document.getElementById('search-box');\nconst countryList = document.querySelector('.country-list');\nconst countryInfo = document.querySelector('.country-info');\n\nsearchBox.addEventListener('input', onInput);\n\nfunction onInput(event) {\n  const searchCountries = event.currentTarget.value.trim();\n\n  if (searchCountries == 0) {\n    countryList.innerHTML = '';\n    countryInfo.innerHTML = '';\n  }\n\n  if (searchCountries.length > 0) {\n    fetchCountries(searchCountries)\n      .then(countriesList => {\n        let quantityOfCountries = countriesList.length;\n        if (quantityOfCountries === 1) {\n          countryList.innerHTML = countryListMarkup(countriesList);\n          countryInfo.innerHTML = countryDetailsMarkup(countriesList);\n        } else if (quantityOfCountries <= 10) {\n          countryList.innerHTML = countryListMarkup(countriesList);\n          countryInfo.innerHTML = '';\n        } else {\n          countryList.innerHTML = '';\n          countryInfo.innerHTML = '';\n          console.log(\n            '\"Too many matches found. Please enter a more specific name.\"'\n          );\n        }\n      })\n      .catch(error => {\n        console.log(error.message);\n      });\n  }\n}\n\nfunction countryListMarkup(countriesList) {\n  return countriesList.reduce(\n    (base, country) =>\n      `<li><img src=${country.flags.svg}><p>${country.name.common}</p></li>` +\n      base,\n    ''\n  );\n}\n\nfunction countryDetailsMarkup(countriesList) {\n  const { capital, population, languages } = countriesList[0];\n  console.log(languages);\n  return `<ul><li>Capital: ${capital}</li><li>Population: ${population}</li><li>Languages: ${languagesObjToString(\n    languages\n  )}</li><ul>`;\n}\n\nfunction languagesObjToString(languages) {\n  let languagesArray = [];\n  for (const key in languages) {\n    if (Object.hasOwnProperty.call(languages, key)) {\n      languagesArray.push(languages[key]);\n    }\n  }\n  return languagesArray.join(', ');\n}\n"],"names":["$b8db4ffe7b39e3b7$export$1d1c4391ecac81e8","searchCountries","fetch","then","response","ok","Error","json","$1f0dc3b9307be026$var$searchBox","document","getElementById","$1f0dc3b9307be026$var$countryList","querySelector","$1f0dc3b9307be026$var$countryInfo","$1f0dc3b9307be026$var$countryListMarkup","countriesList","reduce","base","country","flags","svg","name","common","addEventListener","event","currentTarget","value","trim","innerHTML","length","quantityOfCountries","capital","population","languages","console","log","languagesArray","key","Object","hasOwnProperty","call","push","join","$1f0dc3b9307be026$var$languagesObjToString","$1f0dc3b9307be026$var$countryDetailsMarkup","catch","error","message"],"version":3,"file":"index.8600da97.js.map"}