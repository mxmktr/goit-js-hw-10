{"mappings":"YAQO,SAASA,EAAeC,GAC7B,OAAOC,MACL,GAASC,OAVD,wCAU2BA,OAA1BF,EAAgB,YAAkBE,OARlC,OAQ+B,KAAcA,OAP1C,UAOuC,KAAiBA,OANrD,aAMkD,KAAYA,OALnE,QAKgE,KAAaA,OAJzE,cAKdC,MAAK,SAAAC,GACL,IAAKA,EAASC,GACZ,MAAM,IAAIC,MAAM,4CAElB,OAAOF,EAASG,M,ICXpB,IAEMC,EAAYC,SAASC,eAAe,cACpCC,EAAcF,SAASG,cAAc,iBACrCC,EAAcJ,SAASG,cAAc,iBAoC3C,SAASE,EAAkBC,GACzB,OAAOA,EAAcC,QACnB,SAACC,EAAMC,G,MACL,gBAAwChB,OAAxBgB,EAAQC,MAAMC,IAAI,QAA0BlB,OAApBgB,EAAQG,KAAKC,OAAO,aAC5DL,C,GACF,G,CAvCJT,EAAUe,iBAAiB,SAE3B,SAAiBC,GACf,IAAMxB,EAAkBwB,EAAMC,cAAcC,MAAMC,OAE3B,GAAnB3B,IACFW,EAAYiB,UAAY,GACxBf,EAAYe,UAAY,IAGtB5B,EAAgB6B,OAAS,GAC3B9B,EAAeC,GACZG,MAAK,SAAAY,GACJ,IAAIe,EAAsBf,EAAcc,OACZ,IAAxBC,GACFnB,EAAYiB,UAAYd,EAAkBC,GAC1CF,EAAYe,UA2BtB,SAA8Bb,GAC5B,IAA2CgB,EAAAhB,EAAc,GAAjDiB,EAAmCD,EAAnCC,QAASC,EAA0BF,EAA1BE,WAAYC,EAAcH,EAAdG,UAE7B,OADAC,QAAQC,IAAIF,GACL,oBAAmDhC,OAA/B8B,EAAQ,yBAAwD9B,OAAjC+B,EAAW,wBAEnE/B,OAGJ,SAA8BgC,GAC5B,IAAIG,EAAiB,GACrB,IAAK,IAAMC,KAAOJ,EACZK,OAAOC,eAAeC,KAAKP,EAAWI,IACxCD,EAAeK,KAAKR,EAAUI,IAGlC,OAAOD,EAAeM,KAAK,K,CAZgEC,CACzFV,GACA,Y,CAhC8BW,CAAqB9B,IACpCe,GAAuB,IAChCnB,EAAYiB,UAAYd,EAAkBC,GAC1CF,EAAYe,UAAY,KAExBjB,EAAYiB,UAAY,GACxBf,EAAYe,UAAY,GACxBO,QAAQC,IACN,gE,IAILU,OAAM,SAAAC,GACLZ,QAAQC,IAAIW,EAAMC,Q","sources":["src/js/fetchCountries.js","src/index.js"],"sourcesContent":["const URL = 'https://restcountries.com/v3.1/name/';\n/* params of request */\nconst name = 'name';\nconst capital = 'capital';\nconst population = 'population';\nconst flags = 'flags';\nconst languages = 'languages';\n\nexport function fetchCountries(searchCountries) {\n  return fetch(\n    `${URL}${searchCountries}?fields=${name},${capital},${population},${flags},${languages}`\n  ).then(response => {\n    if (!response.ok) {\n      throw new Error('Oops, there is no country with that name');\n    }\n    return response.json();\n  });\n}\n","import { fetchCountries } from './js/fetchCountries';\n/* import debounce from '../node_modules/lodash.debounce'; */\nimport './css/styles.css';\n\nconst DEBOUNCE_DELAY = 300;\n\nconst searchBox = document.getElementById('search-box');\nconst countryList = document.querySelector('.country-list');\nconst countryInfo = document.querySelector('.country-info');\n\nsearchBox.addEventListener('input', onInput);\n\nfunction onInput(event) {\n  const searchCountries = event.currentTarget.value.trim();\n\n  if (searchCountries == 0) {\n    countryList.innerHTML = '';\n    countryInfo.innerHTML = '';\n  }\n\n  if (searchCountries.length > 0) {\n    fetchCountries(searchCountries)\n      .then(countriesList => {\n        let quantityOfCountries = countriesList.length;\n        if (quantityOfCountries === 1) {\n          countryList.innerHTML = countryListMarkup(countriesList);\n          countryInfo.innerHTML = countryDetailsMarkup(countriesList);\n        } else if (quantityOfCountries <= 10) {\n          countryList.innerHTML = countryListMarkup(countriesList);\n          countryInfo.innerHTML = '';\n        } else {\n          countryList.innerHTML = '';\n          countryInfo.innerHTML = '';\n          console.log(\n            '\"Too many matches found. Please enter a more specific name.\"'\n          );\n        }\n      })\n      .catch(error => {\n        console.log(error.message);\n      });\n  }\n}\n\nfunction countryListMarkup(countriesList) {\n  return countriesList.reduce(\n    (base, country) =>\n      `<li><img src=${country.flags.svg}><p>${country.name.common}</p></li>` +\n      base,\n    ''\n  );\n}\n\nfunction countryDetailsMarkup(countriesList) {\n  const { capital, population, languages } = countriesList[0];\n  console.log(languages);\n  return `<ul><li>Capital: ${capital}</li><li>Population: ${population}</li><li>Languages: ${languagesObjToString(\n    languages\n  )}</li><ul>`;\n}\n\nfunction languagesObjToString(languages) {\n  let languagesArray = [];\n  for (const key in languages) {\n    if (Object.hasOwnProperty.call(languages, key)) {\n      languagesArray.push(languages[key]);\n    }\n  }\n  return languagesArray.join(', ');\n}\n"],"names":["$57dba802a44d0066$export$1d1c4391ecac81e8","searchCountries","fetch","concat","then","response","ok","Error","json","$b8f9b7833fa37166$var$searchBox","document","getElementById","$b8f9b7833fa37166$var$countryList","querySelector","$b8f9b7833fa37166$var$countryInfo","$b8f9b7833fa37166$var$countryListMarkup","countriesList","reduce","base","country","flags","svg","name","common","addEventListener","event","currentTarget","value","trim","innerHTML","length","quantityOfCountries","ref","capital","population","languages","console","log","languagesArray","key","Object","hasOwnProperty","call","push","join","$b8f9b7833fa37166$var$languagesObjToString","$b8f9b7833fa37166$var$countryDetailsMarkup","catch","error","message"],"version":3,"file":"index.7af787ee.js.map"}